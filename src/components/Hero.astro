---
import CardGrid from "./CardGrid.astro";
import PrimBtn from "./PrimBtn.astro";

import { Image } from "astro:assets";
import hero from "../assets/images/hero.png";
---

<section class="hero">
  <div class="background__container">
    <div class="background__color"></div>
    <div class="img__container">
      <Image alt="Hero image of the homepage" src={hero} format="avif" />
    </div>
  </div>
  <div class="introduction">
    <h1>Adam Buschemia Business Consultant</h1>
    <p>
      Get help from Alex Moore, a professional business coach with advanced
      experience on growth and business scaling.
    </p>
    <PrimBtn title="Book a Meeting" />
  </div>
  <div class="services">
    <CardGrid />
    <CardGrid />
    <CardGrid />
  </div>
</section>

<style>
  section {
    grid-column: full;
    grid-row: 1/3;
    /* height: 60%;  */
    display: grid;
    grid: repeat(5, 1fr) / subgrid;

    @media screen and (max-width: 1080px) {
      height: 60%;
    }
  }
  .background__container {
    grid-column: full;
    grid-row: 1/5;
    display: grid;
    grid: auto / 1fr 1fr;

    .background__color {
      background-color: var(--primary03);
      grid-column: 1/2;
      grid-row: 1/-1;
    }

    .img__container {
      grid-column: 2/-1;
      grid-row: 1/-1;
      img {
        height: 100%;
        object-fit: cover;
      }
    }

    @media screen and (max-width: 1070px) {
      grid: auto / 1fr;

      .background__color {
        grid-row: 1;
        grid-column: 1/-1;
      }

      .img__container {
        grid-row: 2;
        grid-column: 1/-1;
        object-fit: contain;
        height: 0; /* helps making img container as tall as .background__color */
        min-height: 100%; /* helps making img container as tall as .background__color */
      }
    }
  }
  .introduction {
    grid-column: main;
    grid-row: 1/3;

    display: grid;
    grid: auto / 1fr 1fr;

    color: var(--secondary-light);
    align-items: center;
    text-wrap: balance;
    margin: 5em 0;

    > * {
      grid-column: 1;
    }

    button {
      justify-self: start;
    }

    @media screen and (max-width: 1070px) {
      grid-row: 1/3;
      grid: auto / 1fr;

      max-width: 65ch;
    }
  }

  .services {
    grid-column: main;
    grid-row: 4/-1;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--gap);
    margin: var(--gap);
  }
</style>
